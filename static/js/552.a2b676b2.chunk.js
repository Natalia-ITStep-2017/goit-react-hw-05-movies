"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[552],{767:function(e,r,t){var n=t(689),a=t(87),u=t(734),i=t(7),o=t.n(i),c=t(184);o().propTypes={movies:o().arrayOf(o().shape({title:o().string.isRequired,id:o().number.isRequired}).isRequired).isRequired},r.Z=function(e){var r=e.movies,t=(0,n.TH)();return(0,c.jsx)("ul",{children:r.map((function(e){return(0,c.jsx)("li",{className:u.Z.movieItem,children:(0,c.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.title})},e.id)}))})}},552:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(433),a=t(861),u=t(439),i=t(757),o=t.n(i),c=t(791),s=t(87),m=t(734),h=t(184),l=function(e){var r,t=e.onSubmit,n=(0,s.lr)(),a=(0,u.Z)(n,2),i=a[0],o=a[1],l=null!==(r=i.get("query"))&&void 0!==r?r:"",p=(0,c.useState)(l),f=(0,u.Z)(p,2),v=f[0],d=f[1];return(0,h.jsxs)("form",{className:m.Z.SearchForm,onSubmit:function(e){e.preventDefault(),o({query:v}),t()},children:[(0,h.jsx)("input",{className:m.Z.SearchFormInput,type:"text",autoComplete:"off",placeholder:"Search movie",value:v,onChange:function(e){d(e.currentTarget.value)}}),(0,h.jsx)("button",{type:"submit",className:m.Z.SearchFormButton,children:"Search"})]})},p=t(767),f=t(243),v=function(){var e=(0,a.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,query:r},e.next=3,f.Z.get("https://api.themoviedb.org/3/search/movie",{params:t,headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDk4NjcxMTNlZTg0MDg0Y2ZjNjU2ODVmMzIwNmMwYyIsInN1YiI6IjY0N2Y4MzY2Mzg1MjAyMDBhZjE0ZTgyZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.VNCNKNuK7_TGGjg30gNSY2nOQUtJtqUaOBiIeuk9KhE"}});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.lr)(),r=(0,u.Z)(e,1)[0].get("query"),t=(0,c.useState)(null),i=(0,u.Z)(t,2),m=i[0],f=i[1],d=(0,c.useState)(!1),Z=(0,u.Z)(d,2),y=Z[0],S=Z[1];return(0,c.useEffect)((function(){if(r&&!y){var e=function(){var e=(0,a.Z)(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(r);case 3:t=e.sent,f((0,n.Z)(t.results)),S(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}();e(r)}}),[m,y,r]),(0,h.jsxs)("div",{className:"{css.App}",children:[(0,h.jsx)(l,{onSubmit:function(){S(!1)}}),r&&m&&(0,h.jsx)(p.Z,{movies:m,to:"/movies/"}),r&&m&&0===m.length&&(0,h.jsx)("h3",{children:"There is no results for your search "})]})}},734:function(e,r){r.Z={SearchForm:"movie_SearchForm__AeF-B",SearchFormButton:"movie_SearchFormButton__4Roxr",SearchFormInput:"movie_SearchFormInput__iy5EN","SearchForm-input":"movie_SearchForm-input__4gU7n",movieItem:"movie_movieItem__RVKXf"}}}]);
//# sourceMappingURL=552.a2b676b2.chunk.js.map